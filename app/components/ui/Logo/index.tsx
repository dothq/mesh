/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { useID } from "@dothq/id";
import Link from "../../Link";

const Logo = ({ mark, type }: { mark?: boolean; type?: boolean }) => {
	const ssrInstanceId = useID(1);

	let width = 0;

	if (mark) width += 49;
	if (type) width += 192;

	return (
		<div class="fdn-logo">
			<Link
				class="fdn-not-visited"
				href="/"
				aria-label="Dot HQ Home"
			>
				<svg
					alt="The Dot HQ Logo"
					aria-label="The Dot HQ Logo"
					viewBox={`0 0 ${width} 48`}
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
					xmlnsXlink="http://www.w3.org/1999/xlink"
				>
					{type && (
						<path
							id={`wordtype-${ssrInstanceId}`}
							d="M77.888 42H64.212V3.988H77.524C81.268 3.988 84.5613 4.80267 87.404 6.432C90.2467 8.02667 92.4653 10.2627 94.06 13.14C95.6893 15.9827 96.504 19.2933 96.504 23.072C96.504 26.7813 95.7067 30.0747 94.112 32.952C92.552 35.7947 90.368 38.0133 87.56 39.608C84.7867 41.2027 81.5627 42 77.888 42ZM70.868 7.056V38.984L67.696 35.864H77.264C79.7947 35.864 81.9787 35.344 83.816 34.304C85.6533 33.264 87.0573 31.7907 88.028 29.884C88.9987 27.9773 89.484 25.7067 89.484 23.072C89.484 20.368 88.9813 18.0627 87.976 16.156C86.9707 14.2147 85.532 12.724 83.66 11.684C81.788 10.644 79.5347 10.124 76.9 10.124H67.696L70.868 7.056ZM100.312 29.104C100.312 26.4347 100.902 24.0947 102.08 22.084C103.259 20.0387 104.888 18.444 106.968 17.3C109.048 16.156 111.406 15.584 114.04 15.584C116.71 15.584 119.067 16.156 121.112 17.3C123.192 18.444 124.822 20.0387 126 22.084C127.179 24.0947 127.768 26.4347 127.768 29.104C127.768 31.7733 127.179 34.1307 126 36.176C124.822 38.1867 123.192 39.764 121.112 40.908C119.067 42.052 116.71 42.624 114.04 42.624C111.406 42.624 109.048 42.052 106.968 40.908C104.888 39.764 103.259 38.1867 102.08 36.176C100.902 34.1307 100.312 31.7733 100.312 29.104ZM106.656 29.104C106.656 30.664 106.968 32.0333 107.592 33.212C108.251 34.3907 109.118 35.3093 110.192 35.968C111.302 36.6267 112.584 36.956 114.04 36.956C115.496 36.956 116.779 36.6267 117.888 35.968C118.998 35.3093 119.864 34.3907 120.488 33.212C121.112 32.0333 121.424 30.664 121.424 29.104C121.424 27.5093 121.112 26.14 120.488 24.996C119.864 23.8173 118.998 22.8987 117.888 22.24C116.779 21.5813 115.496 21.252 114.04 21.252C112.584 21.252 111.302 21.5813 110.192 22.24C109.118 22.8987 108.251 23.8173 107.592 24.996C106.968 26.14 106.656 27.5093 106.656 29.104ZM130.047 16.312H146.271V21.616H130.047V16.312ZM141.331 42H134.987V8.304H141.331V42ZM171.978 42H165.322V3.988H171.978V19.744H188.826V3.988H195.482V42H188.826V25.88H171.978V42ZM238.549 22.968C238.549 26.816 237.769 30.2307 236.209 33.212C234.649 36.1587 232.483 38.464 229.709 40.128C226.936 41.792 223.729 42.624 220.089 42.624C216.484 42.624 213.295 41.792 210.521 40.128C207.748 38.464 205.581 36.1587 204.021 33.212C202.496 30.2653 201.733 26.868 201.733 23.02C201.733 19.1373 202.513 15.7227 204.073 12.776C205.633 9.79467 207.783 7.472 210.521 5.808C213.295 4.144 216.501 3.312 220.141 3.312C223.781 3.312 226.971 4.144 229.709 5.808C232.483 7.472 234.649 9.77733 236.209 12.724C237.769 15.6707 238.549 19.0853 238.549 22.968ZM231.581 22.968C231.581 20.264 231.113 17.924 230.177 15.948C229.241 13.972 227.924 12.4467 226.225 11.372C224.527 10.2627 222.499 9.708 220.141 9.708C217.819 9.708 215.791 10.2627 214.057 11.372C212.359 12.4467 211.041 13.972 210.105 15.948C209.169 17.924 208.701 20.264 208.701 22.968C208.701 25.672 209.169 28.0293 210.105 30.04C211.041 32.016 212.359 33.5413 214.057 34.616C215.791 35.6907 217.819 36.228 220.141 36.228C222.499 36.228 224.527 35.6907 226.225 34.616C227.924 33.5067 229.241 31.964 230.177 29.988C231.113 27.9773 231.581 25.6373 231.581 22.968ZM233.765 44.86L220.141 29.468L224.353 25.672L238.029 41.064L233.765 44.86Z"
							fill="currentColor"
						/>
					)}
					{mark && (
						<>
							<g id={`logo-${ssrInstanceId}`}>
								<rect
									width="48"
									height="48"
									rx="24"
									fill={`url(#colour_space-${ssrInstanceId})`}
								/>
								<path
									d="M33.75 24C33.75 29.3848 29.3848 33.75 24 33.75C18.6152 33.75 14.25 29.3848 14.25 24C14.25 18.6152 18.6152 14.25 24 14.25C29.3848 14.25 33.75 18.6152 33.75 24Z"
									fill="white"
								/>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M37.3125 24C37.3125 31.3523 31.3523 37.3125 24 37.3125C16.6477 37.3125 10.6875 31.3523 10.6875 24C10.6875 16.6477 16.6477 10.6875 24 10.6875C31.3523 10.6875 37.3125 16.6477 37.3125 24ZM24 33.75C29.3848 33.75 33.75 29.3848 33.75 24C33.75 18.6152 29.3848 14.25 24 14.25C18.6152 14.25 14.25 18.6152 14.25 24C14.25 29.3848 18.6152 33.75 24 33.75Z"
									fill="white"
									fill-opacity="0.4"
									style="mix-blend-mode:overlay"
								/>
							</g>
							<defs>
								<pattern
									id={`colour_space-${ssrInstanceId}`}
									patternContentUnits="objectBoundingBox"
									width="1"
									height="1"
								>
									<use
										xlinkHref={`#dothq_branding-${ssrInstanceId}`}
										transform="scale(0.0208333)"
									/>
								</pattern>
								<image
									id={`dothq_branding-${ssrInstanceId}`}
									width="48"
									height="48"
									xlinkHref="/media/images/dothq_colour_space.jpg"
								/>
							</defs>
						</>
					)}
				</svg>
			</Link>
		</div>
	);
};

export default Logo;
